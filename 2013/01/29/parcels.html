<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
    <!-- Basic Page Needs
  ================================================== -->
	<meta charset="utf-8">
	<title>Generated Parcelables</title>

	<!-- Mobile Specific Metas
  ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<!-- CSS
  ================================================== -->
	<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="../../../css/base.css">
	<link rel="stylesheet" type="text/css" href="../../../css/skeleton.css">
	<link rel="stylesheet" type="text/css" href="../../../css/layout.css">
	<link rel="stylesheet" type="text/css" href="../../../css/transfuse.css"/>
	<link rel="stylesheet" type="text/css" href="../../../css/coderay.css"/>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>

</head>
<body>

<div class="container" itemscope itemtype="http://schema.org/CreativeWork">

	<h2 class="remove-bottom" style="margin-top: 10px"><img itemprop="image" src="../../../images/icon.png"/><a class="title" href="../../../index.html" itemprop="url"><span itemprop="name">Transfuse</span></a></h2>
	for Google Android
	<br/>

	<div id="socialwidget">
		<a href="https://twitter.com/attransfuse" class="twitter-follow-button" data-show-count="false">Follow @attransfuse</a>
        	<div class="g-plusone" data-size="medium" data-href="http://androidtransfuse.org/"></div>
	</div>
	<hr />

	<div class="three columns">
		<nav>
			<ul class="nav">
				<li><a href="../../../index.html">About</a></li>
				<li><a href="../../../getting_started.html">Getting Started</a></li>
				<li><span id="poststoggle" class="arrow arrowright"></span><a href="../../../posts.html">Blog</a>
					<ul id="posts" class="posts nav">
					
						<li><a href="/2013/01/29/parcels.html">Parcels</a></li>
					
						<li><a href="/2013/01/06/transactions.html">Transactions</a></li>
					
					</ul>
				</li>
				<li><span id="documentationtoggle" class="arrow arrowright"></span><a href="../../../documentation.html">Documentation</a>
					<ul id="documentation" class="nav">
						<li><a href="../../../documentation.html#introduction">Introduction</a></li>
						<li><a href="../../../documentation.html#activity">@Activity</a></li>
						<li><a href="../../../documentation.html#fragment">@Fragment</a></li>
						<li><a href="../../../documentation.html#service">@Service</a></li>
						<li><a href="../../../documentation.html#broadcastreceiver">@BroadcastReceiver</a></li>
						<li><a href="../../../documentation.html#application">@Application</a></li>
						<li><a href="../../../documentation.html#intent_factory">Intent Factory</a></li>
						<li><a href="../../../documentation.html#dependency_injection_di">Dependency Injection</a></li>
						<li><a href="../../../documentation.html#method_interceptors">Method Interceptors</a></li>
						<li><a href="../../../documentation.html#configuration">Configuration</a></li>
						<li><a href="../../../documentation.html#events">Events</a></li>
						<li><a href="../../../documentation.html#parcel">@Parcel</a></li>
						<li><a href="../../../documentation.html#factory">@Factory</a></li>
						<li><a href="../../../documentation.html#legacy_support">Legacy Support</a></li>
						<li><a href="../../../documentation.html#reference">Reference</a></li>
					</ul>	
				</li>
				<li><a href="https://oss.sonatype.org/service/local/repositories/releases/archive/org/androidtransfuse/transfuse-api/0.3.0-beta-3/transfuse-api-0.3.0-beta-3-javadoc.jar/!/index.html">API Javadocs</a></li>
				<li><a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.androidtransfuse%22">Download</a></li>
			</ul>
		</nav>
	</div>
	
	<div class="thirteen columns content">

		<div class="sect2">
<h3 id="transfuse_technical_blog">Transfuse Technical Blog</h3>
<div class="sect3">
<h4 id="generated_parcelables">Generated Parcelables</h4>
<div class="paragraph">
<p><em>January 29, 2013</em></p>
</div>
<div class="paragraph">
<p>One of my favorite rough spots in Android to rag on is the Parcelable.  Parcelable classes are used by Android as a high-performance serialization option, especially useful when passing data between Activities/Contexts.  What is so rough about Parcelable classes are the API requirements.  Yes, Parcelable is an interface that defines the contract, but Android expects more!  Android requires that if your class is a Parcelable (and you&#8217;re using it as such) then you have to define a:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> Parcelable.Creator&lt;MyParcelable&gt; CREATOR</code></pre>
</div>
</div>
<div class="paragraph">
<p>within your class.  The consequences of not doing so is an Exception at run time.  Yes, it must be a Parcelable.Creator, and yes it must be named C-R-E-A-T-O-R.  In addition to this implementing Parcelable is error prone.  You must implement mirrored createFromParcel() and writeToParcel() methods.  Because of this, bugs will often crop up around ordering or missing a field in the implemented Parcelable.</p>
</div>
<div class="paragraph">
<p>Transfuse gives you a way out of this mess.  Annotating a POJO with @Parcel will trigger, at compile time, the generation of a Parcelable class that serializes using the coordinated Java Bean getters and setters.  The result is your POJO is clear of any Parcelable cruft, while you get the performance of using the Parcelable.  Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Parcel</span>
<span class="directive">public</span> <span class="type">void</span> CleanParcel{
    <span class="directive">private</span> <span class="predefined-type">String</span> value;
    <span class="directive">public</span> <span class="predefined-type">String</span> getValue(){
        <span class="keyword">return</span> value;
    }
    <span class="directive">public</span> <span class="type">void</span> setValue(<span class="predefined-type">String</span> value){
        <span class="local-variable">this</span>.value = value;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clean, isn&#8217;t it?</p>
</div>
<div class="paragraph">
<p>To wrap your <code>@Parcel</code> manually, there is a <code>Parcels</code> utility class in the API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Parcelable exampleWrapped = Parcel.wrap(example);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, since it is generated code, you may use it directly as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Parcelable exampleWrapped = <span class="keyword">new</span> ParcelExample_Parcelable(example);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, Transfuse will automatically use the generated Parcelable when your <code>@Parcel</code> class is referenced in <code>@Extras</code>. This affects both the serialization through the generated Intent Factories and the serialization in the receiving Activity/Context.  The end result is you don&#8217;t even have to bother with wrapping/unwrapping or, of course, implementing the Parcelable.</p>
</div>
<div class="paragraph">
<p>There are a couple other details that you can read about in the <a href="http://androidtransfuse.org/documentation.html#parcel">@Parcel documentation</a>[1].</p>
</div>
<div class="paragraph">
<p>Here are a few other community solutions/proposals to address the issues around implementing Parcelable classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://dallasgutauckis.com/2012/01/20/parcelabler-for-implementing-androids-parcelable-interface/" class="bare">http://dallasgutauckis.com/2012/01/20/parcelabler-for-implementing-androids-parcelable-interface/</a></p>
</li>
<li>
<p><a href="https://github.com/excilys/androidannotations/issues/301" class="bare">https://github.com/excilys/androidannotations/issues/301</a></p>
</li>
<li>
<p><a href="https://github.com/foxykeep/parcelablecodegenerator" class="bare">https://github.com/foxykeep/parcelablecodegenerator</a></p>
</li>
</ul>
</div>
</div>
</div>

		
		 
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			var disqus_shortname = 'transfuse';

			(function() {
			    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
		 
	
	</div>

</div>

<a href="https://github.com/johncarl81/transfuse"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub" /></a>

<div id="footer">
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-11587475-2");
pageTracker._trackPageview();
} catch(err) {}

//twitter button
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

//google +1 button
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();

function setupToggle(expanded, toggleId, toggleBodyId){

	var updateArrows = function(){
		updateArrowCss(expanded? 'arrowdown' : 'arrowright');
	}

	var updateArrowCss = function updateArrowCss(classifier){
		$(toggleId).removeClass('arrowright');
		$(toggleId).removeClass('arrowdiag');
		$(toggleId).removeClass('arrowdown');
		$(toggleId).addClass(classifier);
	}

	if(expanded){
		$(toggleBodyId).show();
	}
	else{
		$(toggleBodyId).hide();
	}
	updateArrows();

	$(toggleId).mousedown(function() {
		updateArrowCss('arrowdiag');
	});

	$(toggleId).mouseout(function() {
		updateArrows();
	});

	$(toggleId).click(function() {
		if(expanded){
			$(toggleBodyId).slideUp();
		}
		else{
			$(toggleBodyId).slideDown();
		}
		expanded = !expanded;
		updateArrows();
	});
}

setupToggle(false, '#documentationtoggle', '#documentation');
setupToggle(true, '#poststoggle', '#posts');

</script>
</body>
